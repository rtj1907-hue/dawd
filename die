local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local function CreateHL(char)
    if not char or char:FindFirstChild("Direct_HL") then return end
    
    local hl = Instance.new("Highlight")
    hl.Name = "Direct_HL"
    hl.FillColor = Color3.fromRGB(255, 0, 0)
    hl.OutlineColor = Color3.fromRGB(255, 255, 255)
    hl.FillTransparency = 0.2
    hl.Parent = char

    local head = char:FindFirstChild("Head")
    if head then
        local bg = Instance.new("BillboardGui", head)
        bg.Name = "Direct_Tag"
        bg.Size = UDim2.new(0, 160, 0, 50)
        bg.AlwaysOnTop = true
        bg.ExtentsOffset = Vector3.new(0, 3.5, 0)
        local tl = Instance.new("TextLabel", bg)
        tl.Size = UDim2.new(1, 0, 1, 0)
        tl.BackgroundTransparency = 1
        tl.Text = "ðŸš¨ æ­»æ‹³ ðŸš¨"
        tl.TextColor3 = Color3.fromRGB(255, 0, 0)
        tl.TextStrokeTransparency = 0
        tl.TextScaled = true
        tl.Font = Enum.Font.LuckiestGuy
    end

    task.spawn(function()
        while char and char:FindFirstChild("Direct_HL") do
            task.wait(0.2)
           
            if not char:FindFirstChild("Counter") then
                if hl then hl:Destroy() end
                if head and head:FindFirstChild("Direct_Tag") then head.Direct_Tag:Destroy() end
                break
            end
        end
    end)
end

local function ScanForDeath(p)
    local char = p.Character
    if not char then return end

   
    local counterObj = char:FindFirstChild("Counter")
    if counterObj then
       
        if counterObj.Name:find("Shove") or char:FindFirstChild("FlowingWater") then
            return 
        end
        
       
        if char:FindFirstChild("Hunter") or char:FindFirstChild("WaterStream") then
            return 
        end

        CreateHL(char)
    end
end

task.spawn(function()
    while true do
        task.wait(0.1) 
        for _, p in ipairs(Players:GetPlayers()) do
            if p ~= LocalPlayer and p.Character then
                pcall(function() ScanForDeath(p) end)
            end
        end
    end
end)
